<!DOCTYPE html>
<html>
<head>
<title>Moni Trader</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="style/style.css">
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="style/default.css">
<!--Script Includes-->
<meta http-equiv="Content-Security-Policy" content="default-src * self blob: data: gap:; style-src * self 'unsafe-inline' blob: data: gap:; script-src * 'self' 'unsafe-eval' 'unsafe-inline' blob: data: gap:; object-src * 'self' blob: data: gap:; img-src * self 'unsafe-inline' blob: data: gap:; connect-src self * 'unsafe-inline' blob: data: gap:; frame-src * self blob: data: gap:;">
<script src="../Model/Stock.js"></script>
<script src="../Model/Portfolio.js"></script>
<script src="../Controller/displayScripts.js"></script>
<script src="../Controller/utility.js"></script>
<script src="../Controller/inits.js"></script>
<script src="../Controller/comm.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.29.9.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<style>
html, body, h1, h2, h3, h4, h5 {font-family: "Open Sans", sans-serif}
</style>
</head>
<body class="w3-theme-dark" onload="initializePortfolio()">

<!-- Page Container -->
<div class="w3-container w3-content" style="max-width:100%;margin-top:20px">
  <div id="portfolio">
  <!-- The Grid -->
  <div class="w3-row">

    <!-- Left Column -->
    <div class="w3-col m2 w3-margin">

      <div class="w3-card w3-round">
        <div class="w3-container w3-padding w3-dark">

          <!-- Stock List Section-->
          <div class="stock-selection-sect" id="stockHeader">
          </div>
        </div>
      </div>
      <br>
    <!-- End Left Column -->
    </div>

    <!-- Middle Column -->
    <div class="w3-col m9 w3-margin">

      <div class="w3-card w3-round w3-dark">
        <div class="w3-container w3-padding">
          <label class="header-label" id="selected-stock-name"></label>
        </div>
      </div>
<br>
      <div class="w3-card w3-round w3-dark">
        <div class="w3-container w3-padding">
          <ul>
            <li class="dropdown">
              <a href="javascript:void(0)" class="dropbtn" id="stockPropertyDropdownButton">Closing Prices v</a>
              <div class="dropdown-content">
                <a id="button-1W"  onclick="updatePeriodDropDownName('Closing Prices v'); setDatePickerBackcolor(event)" name="datePicker">Closing Prices</a>
                <a id="button-1W"  onclick="updatePeriodDropDownName('Opening Prices v'); setDatePickerBackcolor(event)" name="datePicker">Opening Prices</a>
                <a id="button-1W"  onclick="updatePeriodDropDownName('Highs v'); setDatePickerBackcolor(event)" name="datePicker">Highs</a>
                <a id="button-1W"  onclick="updatePeriodDropDownName('Lows v'); setDatePickerBackcolor(event)" name="datePicker">Lows</a>
              </div>
            </li>
            <spacer type="horizontal" width="100" height="100">  </spacer>
            <li class="dropdown">
              <a href="javascript:void(0)" class="dropbtn" id="periodDropdownButton">ALL v</a>
              <div class="dropdown-content">
                <a id="button-1W"  onclick="updatePeriodDropDownName('W1 v'); setDatePickerBackcolor(event)" name="datePicker">1W</a>
                <a id="button-1W"  onclick="updatePeriodDropDownName('1M v'); setDatePickerBackcolor(event)" name="datePicker">1M</a>
                <a id="button-1W"  onclick="updatePeriodDropDownName('3M v'); setDatePickerBackcolor(event)" name="datePicker">3M</a>
                <a id="button-1W"  onclick="updatePeriodDropDownName('6M v'); setDatePickerBackcolor(event)" name="datePicker">6M</a>
                <a id="button-1W"  onclick="updatePeriodDropDownName('1Y v'); setDatePickerBackcolor(event)" name="datePicker">1Y</a>
                <a id="button-1W"  onclick="updatePeriodDropDownName('2Y v'); setDatePickerBackcolor(event)" name="datePicker">2Y</a>
                <a id="button-1W"  onclick="updatePeriodDropDownName('5Y v'); setDatePickerBackcolor(event)" name="datePicker">5Y</a>
                <a id="button-1W"  onclick="updatePeriodDropDownName('10Y v'); setDatePickerBackcolor(event)" name="datePicker">10Y</a>
                <a id="button-1W"  onclick="updatePeriodDropDownName('ALL v'); setDatePickerBackcolor(event)" name="datePicker">ALL</a>
              </div>
            </li>
          </ul>
        </div>
        <div class="chart-sect">
          <canvas id="myChart"></canvas>
        </div>
      </div>
    <!-- End Middle Column -->
    </div>

    <!--
    Right Column
    <div class="w3-col m2 w3-margin">
      <div class="w3-card w3-round w3-white w3-center">
        <div class="w3-container">

          <p>Upcoming Events:</p>
          <img src="/w3images/forest.jpg" alt="Forest" style="width:100%;">
          <p><strong>Holiday</strong></p>
          <p>Friday 15:00</p>
          <p><button class="w3-button w3-block w3-theme-l4">Info</button></p>

        </div>
      </div>
      <br>

    End Right Column
    </div>
    End Right Column -->

  <!-- End Grid -->
  </div>
</div>
<!-- End Page Container -->
</div>
<br>

<script>
// Accordion
function myFunction(id) {
  var x = document.getElementById(id);
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    x.previousElementSibling.className += " w3-theme-d1";
  } else {
    x.className = x.className.replace("w3-show", "");
    x.previousElementSibling.className =
    x.previousElementSibling.className.replace(" w3-theme-d1", "");
  }
}


/* When the user clicks on the button,
toggle between hiding and showing the dropdown content */
function displayPeriodDropDown() {
  document.getElementById("periodDropDown").classList.toggle("show");
}

function updatePeriodDropDownName(name) {
  document.getElementById('periodDropdownButton').innerHTML = name;
}

function displayPeriodDropDown() {
  document.getElementById("stockPropertyDropDown").classList.toggle("show");
}

function updatePeriodDropDownName(name) {
  document.getElementById('stockPropertyDropdownButton').innerHTML = name;
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>

</body>
</html>
